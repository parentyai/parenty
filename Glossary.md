## メタ（固定）

- **SSoT責務**: 用語の定義と表記を固定し、同義語・揺れ・誤用によるSSOT逸脱を防ぐ。
- **想定読者**: CEO / CTO(GPT) / Engineer(Cursor) / Ops
- **依存SSoT**: `PARENTY_SSOT.md`（用語集/付録/該当節）
- **生成物**: “用語の唯一の辞書”（派生ドキュメントは本辞書へリンクし、独自定義しない）
- **編集禁止領域**:
  - SSOTと矛盾する定義の導入
  - 同義語を増やす（別名追加）行為
- **更新ルール**:
  - 新用語が必要になった場合、まず **SSOTの付録A（用語集）**へ追記できるかを検討し、SSOT変更が必要なら `Todo.md` に判断待ちとして記録する。
  - 派生側での“定義本文”追加は禁止。ここは **正規表記/参照導線/禁止揺れ**のみを持つ。
- **変更履歴**:
  - 2026-01-07: 初版
- **関連リンク**:
  - `SSOT_INDEX.md`
  - `PARENTY_SSOT.md`

---

## 背景

- Parenty は **SSOTが唯一の正**であり、派生資料は参照導線に徹する。
- しかし実装・運用・ドキュメント間で用語が揺れると、同じ概念が別物として実装され事故る。
- よって、用語の正規表記と参照先を固定する。

---

## 説明

### 用語の書式（固定）

- **正規表記**: 本ファイルの「正規表記」を必ず使う。
- **SSOT参照**: 各用語は必ず `PARENTY_SSOT.md` の参照箇所を持つ（節番号はSSOT側を正）。
- **禁止揺れ**: 禁止表記が本文に出た場合は仕様逸脱として修正する（本文に残さない）。

---

## 結論

- 本ファイルは、派生資料の **用語の唯一の辞書**として扱う。
- “定義の追加”はSSOTへ戻し、ここは参照導線と表記統制に限定する。

---

## 補足

### 差分サマリ（本ファイル）

- **追加**: `Glossary.md`
- **影響範囲**:
  - 全派生ドキュメント（用語の独自定義を撤去し、本ファイル参照へ統一）
  - `tools/validate_docs.js`（Lint対象へ追加）

---

## 用語一覧（固定）

### Policy Engine / 判定

- **Policy Engine**
  - **定義**: 可否判定（ALLOW/DEGRADED/DENY）と拘束（reasonCodes/patch/nextAction）を一貫して返す“唯一の判断主体”。
  - **生存場所（SSOT）**: 3章
  - **参照先**: `PARENTY_SSOT.md`（3章、6-0、6-2X/6-2Y/6-2Z）
  - **禁止揺れ**: “UXが判断する”“管理UIが例外判断する”

- **PolicyResult**
  - **定義**: Policy Engineの最終判定結果。値は **ALLOW / DEGRADED / DENY の3値固定**。
  - **生存場所（SSOT）**: 3-0-3 / 3-3-1（OpenAPI拘束）
  - **参照先**: `PARENTY_SSOT.md`
  - **禁止揺れ**: decision/result の混用（派生は result を正）

- **reasonCodes**
  - **定義**: 判定理由の多値配列。**min 1**。値は **付録B**のみ。
  - **生存場所（SSOT）**: 付録B / 3-3 / 3-3-1 / B-1-1
  - **参照先**: `PARENTY_SSOT.md`
  - **禁止揺れ**: reasonCode（単数）で保存、自由記述reasonの保存

- **primaryReason**
  - **定義**: reasonCodes[]から選ぶ単一の代表理由。**評価順序に従い決定的に選ぶ**。
  - **生存場所（SSOT）**: 3-3B / B-1-1 / 6-2X
  - **参照先**: `PARENTY_SSOT.md`
  - **禁止揺れ**: primaryReason の別名導入（別名を増やさない）

- **nextAction**
  - **定義**: 管理UI/運用の誘導アクション。primaryReason等から **6-2X**で決定し、UIは解釈しない。
  - **生存場所（SSOT）**: 6-2X / 6-2Y / 6-2Z
  - **参照先**: `PARENTY_SSOT.md`
  - **禁止揺れ**: UI側での独自ボタン追加、enum外のaction追加

- **FAIL-SAFE**
  - **定義**: 未定義reasonCode等の不整合時に、**UNKNOWN_REASON → DENY + CREATE_INCIDENT**へ倒す安全設計。
  - **生存場所（SSOT）**: 3-3-1 / 6-2X / 6-2Y / 7-2
  - **参照先**: `PARENTY_SSOT.md`
  - **禁止揺れ**: 400/500で落とす、黙ってALLOWする

### UX / 管理UI

- **UX状態**
  - **定義**: UXは独自状態を持たず、PolicyResult（ALLOW/DEGRADED/DENY）と付録Cテンプレに従う“状態”のみを扱う。
  - **生存場所（SSOT）**: 5章 / 付録C / 6-0
  - **参照先**: `PARENTY_SSOT.md`
  - **禁止揺れ**: “ソフトDENY”“WARN”などの独自状態追加

- **DEGRADED**
  - **定義**: 送信は許容されるが、内容・粒度・表現を制限する縮退状態。**文言は付録Cのみ**。
  - **生存場所（SSOT）**: 3-A / 3-1 / 付録C
  - **参照先**: `PARENTY_SSOT.md`
  - **禁止揺れ**: 付録C以外の縮退文言創作

- **管理操作**
  - **定義**: 管理UI/運用者が実行する操作。必ず nextAction（6-2Z）とrunbookLabel（7章）に紐づく。
  - **生存場所（SSOT）**: 6-2X/6-2Y/6-2Z / 7章 / 7-3
  - **参照先**: `PARENTY_SSOT.md`
  - **禁止揺れ**: 監査ログ無しの操作、UI直書き

### データ / 監査

- **監査ログ（audit_logs）**
  - **定義**: 人間介入/重要変更の監査一次情報。append-onlyで保持する。
  - **生存場所（SSOT）**: 7-3 / 4章（該当コレクション）
  - **参照先**: `PARENTY_SSOT.md`
  - **禁止揺れ**: 更新/削除、理由無し操作

- **Derived Insight（編集済み知見）**
  - **定義**: 生データや集計値を外部提供せず、再識別不能な抽象知見として扱う“編集済み知見”。禁止（1-4-3）は維持。
  - **生存場所（SSOT）**: 1-4-3-A / 付録A
  - **参照先**: `PARENTY_SSOT.md`
  - **禁止揺れ**: 数値/割合/セグメント/時系列/再集計可能な形の提示

---

## 矛盾候補（隔離）

- （現時点なし）


